<div class="container">
    <div class="row">
        <div class="col-md-5 text-muted small" *ngIf="!editOpdracht && Opdracht">
            <h2 class="pb-3">{{Opdracht.titel}}</h2>
            <div>
                <span class="font-weight-bold font-italic">Omschrijving:</span> {{Opdracht.omschrijving}}
            </div>

            <div class="info">
                <span class="font-weight-bold font-italic">Locatie:</span> {{Opdracht.straat}} {{Opdracht.straatNr}} {{Opdracht.postcode}} {{Opdracht.woonPlaats}}
            </div>
            <div *ngFor="let opdrachtTag of opdrachtTags">
                <span class="badge badge-pill badge-info">{{opdrachtTag.tag.naam}}</span>
            </div>
            <div class="divider"></div>
            <br>
            <button (click)="editOpdrachtDetails()" class="btn btn-primary btn-lg btn-block pt-3">Bewerken</button>
            <button (click)="deleteOpdracht(Opdracht.id)"
                class="btn btn-danger btn-lg btn-block pt-3">Verwijderen</button>
            <br>
        </div>


        <div *ngIf="editOpdracht &&!newOpdracht" class="col-md-5 text-muted small">
            <form [formGroup]="opdrachtForm" (ngSubmit)="saveChangesOpdracht()">

                <div class="form-group">
                    <label for="">Titel:</label>
                    <input type="text" [(ngModel)]="Opdracht.titel" class="form-control" placeholder="Titel"
                        formControlName="Titel">
                </div>

                <div class="form-group">
                    <label for="">Omschrijving:</label>
                    <input type="text" [(ngModel)]="Opdracht.omschrijving" class="form-control"
                        placeholder="Omschrijving" formControlName="Omschrijving">
                </div>


                <div class="form-group">
                    <label for="Straat">Straat:</label>
                    <input type="text" [(ngModel)]="Opdracht.straat" class="form-control" placeholder="Straat"
                        formControlName="Straat">
                        <label for="StraatNr">StraatNummer:</label>
                    <input type="text" [(ngModel)]="Opdracht.straatNr" class="form-control" placeholder="StraatNr"
                        formControlName="StraatNr">
                        <label for="Postcode">Postcode:</label>
                    <input type="text" [(ngModel)]="Opdracht.postcode" class="form-control" placeholder="Postcode"
                        formControlName="Postcode">
                        <label for="Woonplaats">Woonplaats:</label>
                    <input type="text" [(ngModel)]="Opdracht.woonPlaats" class="form-control" placeholder="Woonplaats"
                        formControlName="Woonplaats">
                </div>

                <input type="hidden" [(ngModel)]="Opdracht.id" formControlName="Id">
                <input type="hidden" [(ngModel)]="Opdracht.bedrijfId" formControlName="BedrijfId">
                <tag-input [(ngModel)]='tags' formControlName="Tags"></tag-input>

                <div class="divider"></div>
                <br>
                <button type="submit" class="btn btn-primary btn-lg btn-block">Opslaan</button>
                <button type="button" (click)="editOpdrachtDetails()"
                    class="btn btn-danger btn-lg btn-block">Annuleer</button>
                <br>
            </form>

        </div>
        <div *ngIf="newOpdracht" class="col-md-5 text-muted small">
            <form [formGroup]="newOpdrachtForm" (ngSubmit)="postOpdracht()">

                <div class="form-group">
                    <label for="Titel">Titel:</label>
                    <input type="text" [(ngModel)]="Opdracht.titel" class="form-control" placeholder="Titel"
                        formControlName="Titel">
                </div>

                <div class="form-group">
                    <label for="Omschrijving">Omschrijving:</label>
                    <input type="text" [(ngModel)]="Opdracht.omschrijving" class="form-control"
                        placeholder="Omschrijving" formControlName="Omschrijving">
                </div>


                <div class="form-group">
                    <label for="Straat">Straat:</label>
                    <input type="text" [(ngModel)]="Opdracht.straat" class="form-control" placeholder="Straat"
                        formControlName="Straat">
                        <label for="StraatNr">StraatNummer:</label>
                    <input type="text" [(ngModel)]="Opdracht.straatNr" class="form-control" placeholder="StraatNr"
                        formControlName="StraatNr">
                        <label for="Postcode">Postcode:</label>
                    <input type="text" [(ngModel)]="Opdracht.postcode" class="form-control" placeholder="Postcode"
                        formControlName="Postcode">
                        <label for="Woonplaats">Woonplaats:</label>
                    <input type="text" [(ngModel)]="Opdracht.woonPlaats" class="form-control" placeholder="Woonplaats"
                        formControlName="Woonplaats">
                </div>
                <tag-input [(ngModel)]='tags' formControlName="Tags"></tag-input>
                <input type="hidden" [(ngModel)]="Opdracht.id" formControlName="Id">
                <input type="hidden" [(ngModel)]="bedrijfId" formControlName="BedrijfId">


                <div class="divider"></div>
                <br>
                <button type="submit" class="btn btn-primary btn-lg btn-block">Opslaan</button>
                <button type="button" routerLink="/bedrijfOpdrachten"
                    class="btn btn-danger btn-lg btn-block">Terug</button>
                <br>
            </form>

        </div>
    </div>